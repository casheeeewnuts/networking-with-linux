# InternetProtocol
ネットワーク層の役割について学びましょう!前章では同一のネットワークに存在するコンピュータ同士で通信を行う時、MACアドレスだけで通信ができることを確認しました。
それでは、IPアドレスの役割とは一体何でしょうか？IP(InternetProtocol)とはどういった通信を行うために存在するのでしょうか？それをこの章で確認していきます。

IPは異なるネットワークに存在するコンピュータ同士で通信を行うためのプロトコルです。IPのおかげで別のネットワークに存在するコンピュータと通信ができるようになるわけです。
データリンク層におけるネットワークとは、コンピュータ同士のネットワークだったわけですが、ネットワーク層におけるネットワークとは、ネットワーク同士のネットワークを指します。
だからこそ、Inter(〜間の、相互の)net(ネットワーク)と呼ぶわけですね。

## IPアドレス
IPアドレスは、IP上で通信相手を識別するための番号です。IPアドレスはIPのバージョンによってフォーマットが異なり、IPv4とIPv6が存在します。
ここでは、IPv4について解説します。

IPアドレスは32ビットで構成される番号です。8ビットごとに10進数に変換して、.(ドット)で区切って表現します。
`127.0.0.1`
`192.168.0.1`

### ネットワークとホスト
IPアドレスはネットワーク部とホスト部の2つのデータから構成されています。ネットワーク部のビット数+ホスト部のビット数=32ビットとなっています。
ネットワーク部は通信相手がどのネットワークに属するかを示し、ホスト部は特定されたネットワーク内のコンピュータを特定するためのデータです。

#### ネットマスク
IPアドレス内で、どこまでがネットワーク部でどこからがホスト部かを特定するためにネットマスクが存在します。
ネットマスクはIPアドレスと同じように32ビットで構成され、8ビットごとに10進数に変換して、.(ドット)で区切って表現されます。
`255.0.0.0`
`255.255.255.0`

ネットマスクを使ってネットワーク部を特定するためには、IPアドレスとネットマスクの論理積(AND)を計算することで特定できます。IPアドレスが`192.168.0.1`で、ネットマスクが`255.255.255.0`のとき、次のように計算します
```
11000000.10101000.00000000.00000001
                AND
11111111.11111111.11111111.00000000
-----------------------------------
11000000.10101000.00000000.00000000
|  192  |  168   |   0    |   0   |
```
IPアドレスが`192.168.0.1`で、ネットマスクが`255.255.255.0`のとき、ネットワーク部は`192.168.0.0`だと分かりました。
2つのIPアドレスがあり、それぞれが同じネットワーク内に存在しているかどうかを判定するために、ネットマスクを使います。

例えば`192.168.0.1`と`192.168.10.1`というIPアドレスが存在し、それぞれのネットマスクが`255.255.255.0`だったとします。
この時それぞれのネットワーク部は`192.168.0.0`と`192.168.10.0`となるので異なるネットワークに存在すると判定されます。

もしネットマスクが`255.255.0.0`だとどうなるでしょうか？ネットワーク部を計算すると、それぞれ、`192.168.0.0`と`192.168.0.0`となります。
同じになっているのでネットマスクが`255.255.0.0`のときは同じネットワークだと判定されます

[//]: # (ネットマスクを用いた通信制御のハンズオンを書く)